{% load static %}

<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">
  <title>AH | Banners Mobile</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  <style>
    /* 1. Reset Global y Ocupar 100% del Viewport */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden; /* Evitamos el scroll del cuerpo para la experiencia full-screen */
      background-color: #000; /* Fondo negro para enmarcar las im치genes */
    }

    /* 2. Contenedor Swiper: Ocupa todo el viewport */
    .swiper {
      width: 100%;
      height: 100%;
    }

    /* 3. Contenido del Slide */
    .swiper-slide-content {
      width: 100%;
      height: 100%;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* 4. Imagen: Muestra el ANCHO COMPLETO de la imagen (Clave) */
    .swiper-slide-img {
      width: 100%;
      height: 100%;
      /* CLAVE: Asegura que la imagen completa se vea, dejando espacio si es necesario */
      object-fit: contain; 
      user-select: none;
    }

    /* 5. Contenedores de Enlaces (invisibles y precisos) */
    .link-area {
      position: absolute;
      width: 100%;
      z-index: 10;
      cursor: pointer;
    }

    /* Usamos vh (viewport height) para asegurar que siempre sea el 50% de la pantalla */
    .link-top {
      top: 0;
      height: 50vh; 
    }

    .link-bottom {
      bottom: 0;
      height: 50vh; 
    }
    
    /* Estilos de la paginaci칩n para mejorar visibilidad sobre fondo oscuro */
    .swiper-pagination-bullet {
        background: #fff;
        opacity: 0.5;
    }
    .swiper-pagination-bullet-active {
        background: #fff;
        opacity: 1;
    }
  </style>
</head>

<body>

  <div class="swiper mySwiper">
    <div class="swiper-wrapper">

      {% for banner in banners %}
      <div class="swiper-slide">
        <div class="swiper-slide-content">

          {% if banner.cuadro_1 %}
          <a class="link-area link-top" href="{{ banner.cuadro_1_url }}" title="Ver Cuadro 1"></a>
          {% endif %}

          {% if banner.cuadro_2 %}
          <a class="link-area link-bottom" href="{{ banner.cuadro_2_url }}" title="Ver Cuadro 2"></a>
          {% endif %}

          <img src="{{ banner.imagen.url }}" alt="{{ banner.nombre }}" class="swiper-slide-img">
        </div>
      </div>
      {% empty %}
      <div class="swiper-slide text-center d-flex align-items-center justify-content-center">
        <p class="text-white fw-bold p-4">No hay banners configurados para la colecci칩n **Mobile1**.</p>
      </div>
      {% endfor %}

    </div>

    <div class="swiper-pagination"></div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    var swiper = new Swiper(".mySwiper", {
      direction: "horizontal",
      loop: true,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      keyboard: {
        enabled: true,
      },
      // Propiedades de Swiper para mejorar el manejo de clics y drag en dispositivos t치ctiles
      preventClicks: false, // Permite que los <a> funcionen
      preventClicksPropagation: false, 
      preventInteractionOnTransition: true,
    });
  </script>

</body>

</html>